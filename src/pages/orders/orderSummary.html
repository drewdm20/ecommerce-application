<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Order Summary</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
<div class="container text-center bg-[url('../../assets/images/pc-setup.jpg')] bg-contain">
  <!--Header-->
  <header class="header sticky top-0 bg-white shadow-md flex items-center justify-between px-8 py-02">
    <!--Logo-->
    <div class="my-3">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-8 inline mb-1">
        <path fill-rule="evenodd" d="M2.25 5.25a3 3 0 013-3h13.5a3 3 0 013 3V15a3 3 0 01-3 3h-3v.257c0 .597.237 1.17.659 1.591l.621.622a.75.75 0 01-.53 1.28h-9a.75.75 0 01-.53-1.28l.621-.622a2.25 2.25 0 00.659-1.59V18h-3a3 3 0 01-3-3V5.25zm1.5 0v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5z" clip-rule="evenodd" />
      </svg>
      <a href="../index.html" class="text-xl no-underline text-gray-darkest hover:text-blue-500">The GPU Doctor &trade;</a>
    </div>
    <!--Navigation-->
    <nav class="font font-semibold text-lg ml-auto">
      <ul class="flex items-center">
        <li class="p-4 border-b-2 border-blue-500 border-opacity-0 hover:border-opacity-100 hover:text-blue-500 duration-200 cursor-pointer active">
          <a href="../index.html">Home</a>
        </li>
        <li class="p-4 border-b-2 border-blue-500 border-opacity-0 hover:border-opacity-100 hover:text-blue-500 duration-200 cursor-pointer">
          <a href="../products/nvidiaProducts.html">Products</a>
        </li>
        <li class="p-4 border-b-2 border-blue-500 border-opacity-0 hover:border-opacity-100 hover:text-blue-500 duration-200 cursor-pointer">
          <a id="account"></a>
        </li>
      </ul>
    </nav>
    <!--Cart Icon-->
    <div class="my-3 flex justify-end">
      <a href="../cart/cart.html"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-8 p-1 hover:text-blue-500 duration-200">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119 1.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z" />
      </svg></a>
      <span id="cartCount" class="inline ml-2"></span>
    </div>
  </header>
  <!--Main Section-->
  <main class="min-h-screen py-4">
    <div class="container">
      <!--Shopping cart table-->
      <div id="shopping-cart m-10">
        <div class="text-center my-6">
          <h1 class="text-2xl text-white">Order Summary</h1>
        </div>
        <table class="tbl-cart text-base w-full min-h-fit bg-white">
          <thead class="bg-blue-600 border-b">
          <tr>
            <th scope="col" class="text-sm font-medium text-white px-6 py-4">Description</th>
            <th scope="col" class="text-sm font-medium text-white px-6 py-4">Unit Price</th>
            <th scope="col" class="text-sm font-medium text-white px-6 py-4">Quantity</th>
            <th scope="col" class="text-sm font-medium text-white px-6 py-4">Subtotal</th>
          </tr>
          </thead>
          <tbody id="orderSummaryBody">
          </tbody>
          <tfoot class="border-t border-black">
          <tr>
            <td class="text-sm text-gray-900 text-right font-light px-6 py-4 whitespace-nowrap" colspan="2">Total (Inclusive VAT and Shipping):</td>
            <td id="itemCount" class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap"></td>
            <td id="totalAmount" class="text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap" ></td>
          </tr>
          </tfoot>
        </table>
        <a class="border btn btn-primary rounded-sm hover:cursor-pointer float-right mt-3 ml-3" onclick="confirmOrder()" id="btnConfirm">Confirm order</a>
      </div>
    </div>
  </main>
  <!--Footer-->
  <footer class="bg-white py-3 w-full">
    <div class="container text-center">
      <small>Copyright &copy; 2023. The GPU Doctor &trade;.</small>
    </div>
  </footer>
</div>
<!--Show the order summary-->
<script>
  $(document).ready(function () {
    showOrderSummary();
  })
</script>
<script src="../../components/orderSummary.js"></script>
<script src="../../api/addOrderApi.js"></script>
<script src="../../components/cart.js"></script>
<!--Show the item count of the cart-->
<script>
  $(document).ready(function () {
    showCartCount();
  })
</script>
<script src="../../utilities/logOut.js"></script>
<!--Dynamically create logout or account link if user is signed in or not-->
<script>
  const accountLink = document.getElementById('account');
  if (localStorage.getItem('user')){
    accountLink.textContent = "Logout";
    accountLink.onclick = function () {
      logOut();
      window.location.href = '../index.html';
    }
  } else {
    accountLink.textContent = "Account";
    accountLink.setAttribute('href',"../account/login.html")
  }
</script>
</body>
</html>
